# Plan: 생활기록부 PDF 가독성 개선

**Feature**: pdf-redesign
**Phase**: Plan
**Created**: 2026-02-25
**Author**: AJU E&J 개발팀

---

## 1. 배경 및 목적

현재 생활기록부 PDF는 모든 내용을 A4 한 페이지에 압축하는 구조로,
폰트가 지나치게 작고(7.5~9pt) 정보 밀도가 높아 가독성이 현저히 떨어진다.

**핵심 목표**:
- 폰트 크기를 읽기 적합한 수준으로 키운다 (기본 10~11pt)
- 멀티페이지를 지원하여 내용이 자연스럽게 흐르게 한다
- 학생 사진을 헤더에 포함하여 공식 문서 신뢰도를 높인다
- 인쇄 최적화 (흑백 인쇄에도 명확한 대비)
- 전체적인 레이아웃을 공식 문서 수준으로 격상한다

---

## 2. 현재 문제점 상세

| 항목 | 현재 상태 | 문제 |
|------|-----------|------|
| 기본 폰트 | 9pt | 출력 시 읽기 어려움 |
| 라벨 폰트 | 7.5~8pt | 거의 판독 불가 |
| 보조 텍스트 | 7.5pt | 시력 약한 분들 불편 |
| 페이지 구성 | 단일 페이지 강제 | 내용 많으면 압축됨 |
| 학생 사진 | 없음 | 공식 문서 신뢰도 낮음 |
| 배경색 | 크림 (`#FDFAF5`) | 흑백 인쇄 시 흐릿 |
| 정보 셀 너비 | 50% 고정 | 긴 값 줄바꿈/잘림 |
| 별점(★) | 9pt Unicode | 인쇄 시 불분명 |
| 페이지 번호 | 없음 | 여러 장 출력 시 순서 불명확 |
| 섹션 구분 | 연한 배경색만 | 시각적 강조 부족 |

---

## 3. 개선 요구사항

### R-01: 폰트 크기 개선 (P0)
- 기본 본문: 9pt → **11pt**
- 라벨/보조: 7.5~8pt → **9~10pt**
- 섹션 제목: 9pt → **12pt**
- 헤더 타이틀: 16pt → **20pt**

### R-02: 멀티페이지 레이아웃 (P0)
- 내용이 페이지를 넘어갈 경우 자동으로 다음 페이지로 이어짐
- 섹션 단위로 페이지 나눔 (`break` 옵션)
- 모든 페이지에 헤더/푸터 고정 표시

### R-03: 학생 사진 포함 (P1)
- 헤더 우측에 학생 사진 (3×4cm 규격, 증명사진 스타일)
- `students.photo_url` 필드 활용 (이미 DB에 존재)
- 사진 없을 경우 회색 빈칸으로 대체

### R-04: 정보 테이블 개선 (P0)
- 기본정보 그리드를 명확한 테두리 테이블로 변경
- 라벨 배경: 연한 회색, 값: 흰 배경
- 중요 정보(이름, 학번)는 전체 너비 셀로 강조

### R-05: 시험 성적 가시성 개선 (P1)
- 점수 옆에 시각적 바(bar) 추가
- 등급 뱃지를 명확한 박스로 표시
- 행 홀짝 배경색 줄무늬 (줄바꿈 가독성)

### R-06: 평가 점수 표시 개선 (P1)
- 별점(★) → 숫자 점수 + 막대 그래프 방식으로 변경
- 텍스트 기반이라 폰트 의존 없음

### R-07: 인쇄 최적화 (P0)
- 배경색: 크림 → **흰색** (`#FFFFFF`)
- 섹션 헤더: 진한 네이비 배경 + 흰 텍스트 (명확한 대비)
- 흑백 인쇄 시에도 구조가 명확하게 보이도록

### R-08: 페이지 번호 (P1)
- 각 페이지 하단 중앙에 "1 / 3" 형식 표시
- `<Text render={({ pageNumber, totalPages }) => ...}>`

### R-09: 커버 페이지 (P2 - 선택)
- 첫 페이지를 별도 커버로 구성
- 학생 사진 (큰 사이즈), 기관 로고, 이름, 발급일만 표시

---

## 4. 구현 파일

### 수정 파일
| 파일 | 변경 내용 |
|------|----------|
| `components/pdf/LifeRecordDocument.tsx` | 전면 리디자인 (폰트, 레이아웃, 멀티페이지, 사진) |

### 참조 파일 (변경 없음)
| 파일 | 역할 |
|------|------|
| `app/api/life-record-pdf/route.ts` | 단일 PDF API (변경 불필요) |
| `app/api/life-record-pdf-bulk/route.ts` | 일괄 PDF API (변경 불필요) |

---

## 5. 레이아웃 설계 (개선 후)

### 페이지 1: 기본정보 + 상담이력
```
┌─────────────────────────────────────────────────┐
│ [로고/기관명]  학  생  생  활  기  록  부  [사진] │
│              AJU E&J Education Co., Ltd.         │
│─────────────────────────────────────────────────│
│ ■ 1. 학생 기본 정보                              │
│ ┌─────────────┬────────┬─────────────┬────────┐ │
│ │ 이름 (KR)   │ 홍길동 │ 이름 (VN)   │ Hồng  │ │
│ ├─────────────┼────────┼─────────────┼────────┤ │
│ │ 생년월일    │ 2000.. │ 성별        │ 남     │ │
│ └─────────────┴────────┴─────────────┴────────┘ │
│                                                  │
│ ■ 2. 상담 이력                                   │
│ ┌──────────────────────────────────────────────┐ │
│ │ 2026-01-10  [성적]  김선생                   │ │
│ │ 목표대학: 한국외대 · 국제학부                │ │
│ │ 내용: TOPIK 공부 방법 상담...               │ │
│ └──────────────────────────────────────────────┘ │
│─────────────────────────────────────────────────│
│ 발급일: 2026-02-25          [직인]   1 / 2      │
└─────────────────────────────────────────────────┘
```

### 페이지 2: 평가 + 성적
```
┌─────────────────────────────────────────────────┐
│ 학생생활기록부 (계속) - 홍길동                   │
│─────────────────────────────────────────────────│
│ ■ 3. 선생님 종합 평가                            │
│ ┌──────────────────────────────────────────────┐ │
│ │ 2026-02-01  1분기  평가자: 김선생            │ │
│ │ 학업성취도  ████████░░  4/5                 │ │
│ │ 출석태도    ██████████  5/5                 │ │
│ │ 의견: 매우 성실한 학생...                   │ │
│ └──────────────────────────────────────────────┘ │
│                                                  │
│ ■ 4. TOPIK 모의고사 성적                         │
│ ┌────────┬──────┬──────┬──────┬──────┬──────┐  │
│ │ 일자   │ 회차 │ 듣기 │ 읽기 │ 총점 │ 등급 │  │
│ ├────────┼──────┼──────┼──────┼──────┼──────┤  │
│ │2026-01 │  1회 │  70  │  75  │ 145  │  2급 │  │
│ └────────┴──────┴──────┴──────┴──────┴──────┘  │
│─────────────────────────────────────────────────│
│ 발급일: 2026-02-25          [직인]   2 / 2      │
└─────────────────────────────────────────────────┘
```

---

## 6. 색상 팔레트 (개선 후)

| 용도 | 기존 | 개선 |
|------|------|------|
| 페이지 배경 | `#FDFAF5` (크림) | `#FFFFFF` (흰색) |
| 섹션 헤더 배경 | `#E8EAF6` (연한 인디고) | `#1A237E` (진한 네이비) |
| 섹션 헤더 텍스트 | 네이비 | `#FFFFFF` (흰색) |
| 테이블 라벨 배경 | 없음 | `#F5F5F5` (연한 회색) |
| 테이블 홀수 행 | 없음 | `#FAFAFA` |
| 구분선 | `#C5CAE9` | `#DEE2E6` |

---

## 7. 구현 순서

```
Step 1. 스타일 시스템 개편 (폰트 크기, 색상 팔레트, 흰색 배경)
Step 2. 기본정보 테이블 개선 (명확한 테두리, 학생 사진)
Step 3. 섹션 헤더 개선 (진한 배경 + 흰 텍스트)
Step 4. 멀티페이지 레이아웃 (자동 페이지 나눔)
Step 5. 페이지 헤더/푸터 (모든 페이지 공통, 페이지 번호)
Step 6. 시험 성적 테이블 개선 (줄무늬, 등급 뱃지)
Step 7. 평가 점수 개선 (별점 → 막대 그래프)
```

---

## 8. 완료 기준

- [ ] 기본 폰트 11pt 이상 (라벨 포함 9pt 이상)
- [ ] 내용이 많을 경우 자동 멀티페이지 동작
- [ ] 학생 사진 헤더 표시 (없으면 빈칸)
- [ ] 흰색 배경 + 흑백 인쇄 시 명확한 구조
- [ ] 모든 페이지에 헤더/푸터 + 페이지 번호
- [ ] 시험 성적 행 줄무늬 + 등급 뱃지
- [ ] 평가 점수 막대 그래프 방식
- [ ] 기존 KO/VI 다국어 지원 유지
- [ ] 기존 단일/일괄 PDF API 변경 없이 동작
