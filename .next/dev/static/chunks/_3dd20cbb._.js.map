{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/aju-ej/lib/supabase.ts"],"sourcesContent":["import { createClient } from '@supabase/supabase-js'\n\nconst supabaseUrl  = process.env.NEXT_PUBLIC_SUPABASE_URL!\nconst supabaseKey  = process.env.NEXT_PUBLIC_SUPABASE_ANON_KEY!\n\nexport const supabase = createClient(supabaseUrl, supabaseKey)\n"],"names":[],"mappings":";;;;AAEqB;AAFrB;;AAEA,MAAM;AACN,MAAM;AAEC,MAAM,WAAW,IAAA,iMAAY,EAAC,aAAa"}},
    {"offset": {"line": 21, "column": 0}, "map": {"version":3,"sources":["file:///C:/projects/aju-ej/app/students/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { useRouter } from 'next/navigation'\nimport Link from 'next/link'\nimport { supabase } from '@/lib/supabase'\nimport type { Student, UserMeta } from '@/lib/types'\n\nexport default function StudentsPage() {\n  const router = useRouter()\n  const [user, setUser]       = useState<UserMeta | null>(null)\n  const [students, setStudents] = useState<Student[]>([])\n  const [search, setSearch]   = useState('')\n  const [loading, setLoading] = useState(true)\n\n  useEffect(() => {\n    checkAuth()\n  }, [])\n\n  const checkAuth = async () => {\n    const { data: { session } } = await supabase.auth.getSession()\n    if (!session) { router.push('/login'); return }\n    setUser(session.user.user_metadata as UserMeta)\n    await loadStudents()\n    setLoading(false)\n  }\n\n  const loadStudents = async () => {\n    const { data, error } = await supabase\n      .from('students')\n      .select('*, agency:agencies(agency_code, agency_name_kr)')\n      .eq('is_active', true)\n      .order('created_at', { ascending: false })\n\n    if (!error && data) setStudents(data as Student[])\n  }\n\n  const handleLogout = async () => {\n    await supabase.auth.signOut()\n    router.push('/login')\n  }\n\n  const filtered = students.filter(s =>\n    s.name_kr.includes(search) || s.name_vn.toLowerCase().includes(search.toLowerCase())\n  )\n\n  const statusColor = (status: string) => {\n    const map: Record<string, string> = {\n      'Ïú†ÌïôÏ†Ñ':   'bg-slate-100 text-slate-600',\n      'Ïú†ÌïôÏ§ë':   'bg-blue-100 text-blue-700',\n      'Ï°∏ÏóÖ':     'bg-emerald-100 text-emerald-700',\n      'Ï§ëÎèÑÌè¨Í∏∞': 'bg-red-100 text-red-600',\n    }\n    return map[status] ?? 'bg-slate-100 text-slate-600'\n  }\n\n  if (loading) {\n    return <div className=\"min-h-screen flex items-center justify-center\"><p className=\"text-slate-400\">Î°úÎî© Ï§ë...</p></div>\n  }\n\n  return (\n    <div className=\"min-h-screen bg-slate-100\">\n      {/* Ìó§Îçî */}\n      <header className=\"bg-white shadow-sm\">\n        <div className=\"max-w-6xl mx-auto px-6 py-4 flex items-center justify-between\">\n          <div className=\"flex items-center gap-3\">\n            <div className=\"w-9 h-9 bg-blue-600 rounded-xl flex items-center justify-center\">\n              <span className=\"text-white text-sm font-bold\">AE</span>\n            </div>\n            <span className=\"font-bold text-slate-800\">AJU E&J ÌïôÏÉùÍ¥ÄÎ¶¨</span>\n          </div>\n          <div className=\"flex items-center gap-4\">\n            <span className=\"text-sm text-slate-500\">{user?.name_kr}</span>\n            <button onClick={handleLogout} className=\"text-sm text-slate-500 hover:text-red-500\">Î°úÍ∑∏ÏïÑÏõÉ</button>\n          </div>\n        </div>\n      </header>\n\n      {/* ÎÑ§ÎπÑÍ≤åÏù¥ÏÖò */}\n      <nav className=\"bg-white border-b border-slate-200\">\n        <div className=\"max-w-6xl mx-auto px-6 flex gap-6\">\n          <Link href=\"/\" className=\"py-3 text-sm font-medium text-slate-500 hover:text-slate-800 border-b-2 border-transparent hover:border-slate-300 transition-colors\">ÎåÄÏãúÎ≥¥Îìú</Link>\n          <Link href=\"/students\" className=\"py-3 text-sm font-medium text-blue-600 border-b-2 border-blue-600\">ÌïôÏÉù Í¥ÄÎ¶¨</Link>\n          {user?.role === 'master' && (\n            <Link href=\"/agencies\" className=\"py-3 text-sm font-medium text-slate-500 hover:text-slate-800 border-b-2 border-transparent hover:border-slate-300 transition-colors\">Ïú†ÌïôÏõê Í¥ÄÎ¶¨</Link>\n          )}\n        </div>\n      </nav>\n\n      {/* Î©îÏù∏ */}\n      <main className=\"max-w-6xl mx-auto px-6 py-8\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h2 className=\"text-xl font-bold text-slate-800\">ÌïôÏÉù Î™©Î°ù <span className=\"text-slate-400 font-normal text-base\">({filtered.length}Î™Ö)</span></h2>\n          <Link href=\"/students/new\" className=\"bg-blue-600 hover:bg-blue-700 text-white text-sm font-medium px-4 py-2 rounded-xl transition-colors\">\n            + ÌïôÏÉù Îì±Î°ù\n          </Link>\n        </div>\n\n        {/* Í≤ÄÏÉâ */}\n        <div className=\"mb-4\">\n          <input\n            type=\"text\"\n            value={search}\n            onChange={e => setSearch(e.target.value)}\n            placeholder=\"Ïù¥Î¶ÑÏúºÎ°ú Í≤ÄÏÉâ (ÌïúÍµ≠Ïñ¥ / Î≤†Ìä∏ÎÇ®Ïñ¥)\"\n            className=\"w-full md:w-80 px-4 py-2 border border-slate-200 rounded-xl bg-white text-slate-800 focus:outline-none focus:ring-2 focus:ring-blue-500\"\n          />\n        </div>\n\n        {/* ÌÖåÏù¥Î∏î */}\n        <div className=\"bg-white rounded-2xl shadow-sm overflow-hidden\">\n          {filtered.length === 0 ? (\n            <div className=\"text-center py-16 text-slate-400\">\n              <p className=\"text-4xl mb-3\">üë§</p>\n              <p>Îì±Î°ùÎêú ÌïôÏÉùÏù¥ ÏóÜÏäµÎãàÎã§.</p>\n              <Link href=\"/students/new\" className=\"mt-4 inline-block text-blue-600 text-sm hover:underline\">Ï≤´ Î≤àÏß∏ ÌïôÏÉù Îì±Î°ùÌïòÍ∏∞</Link>\n            </div>\n          ) : (\n            <table className=\"w-full\">\n              <thead>\n                <tr className=\"bg-slate-50 border-b border-slate-100\">\n                  <th className=\"text-left text-xs font-medium text-slate-500 px-6 py-3\">Ïù¥Î¶Ñ (KR)</th>\n                  <th className=\"text-left text-xs font-medium text-slate-500 px-6 py-3\">Ïù¥Î¶Ñ (VN)</th>\n                  <th className=\"text-left text-xs font-medium text-slate-500 px-6 py-3\">Ïú†ÌïôÏõê</th>\n                  <th className=\"text-left text-xs font-medium text-slate-500 px-6 py-3\">ÏÉÅÌÉú</th>\n                  <th className=\"text-left text-xs font-medium text-slate-500 px-6 py-3\">Îì±Î°ùÏùº</th>\n                  <th className=\"px-6 py-3\"></th>\n                </tr>\n              </thead>\n              <tbody className=\"divide-y divide-slate-50\">\n                {filtered.map(s => (\n                  <tr key={s.id} className=\"hover:bg-slate-50 transition-colors\">\n                    <td className=\"px-6 py-4 font-medium text-slate-800\">{s.name_kr}</td>\n                    <td className=\"px-6 py-4 text-slate-600\">{s.name_vn}</td>\n                    <td className=\"px-6 py-4 text-slate-500 text-sm\">\n                      {(s.agency as any)?.agency_name_kr ?? '-'}\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <span className={`text-xs px-2 py-1 rounded-full font-medium ${statusColor(s.status)}`}>\n                        {s.status}\n                      </span>\n                    </td>\n                    <td className=\"px-6 py-4 text-slate-400 text-sm\">\n                      {s.enrollment_date ?? '-'}\n                    </td>\n                    <td className=\"px-6 py-4\">\n                      <Link href={`/students/${s.id}`} className=\"text-blue-600 text-sm hover:underline\">\n                        ÏÉÅÏÑ∏Î≥¥Í∏∞\n                      </Link>\n                    </td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          )}\n        </div>\n      </main>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}}]
}